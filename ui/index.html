<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>State Machine Editor</title>
    <link href="style.css" rel="stylesheet" type="text/css" />
</head>

<body>
    <!-- Modal overlay for creating new bot - moved outside the container -->
    <div id="modal-overlay" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.8); z-index:1000; justify-content:center; align-items:center;">
        <div id="new-bot-form" style="display:flex; flex-direction:column; align-items:center; background:#111; padding:30px; border-radius:16px; color:#fff; width:400px; position:relative;">
            <button id="close-modal" style="position:absolute; top:10px; right:15px; background:none; border:none; color:#fff; font-size:20px; cursor:pointer;">Ã—</button>
            <h2>Create New Bot</h2>
            <input id="bot-name" placeholder="Bot Name" style="margin:8px 0; width:100%; padding:12px; border-radius:8px; border:none;"/>
            <input id="start-url" placeholder="Start URL" style="margin:8px 0; width:100%; padding:12px; border-radius:8px; border:none;"/>
            <button id="create-bot-btn" style="margin-top:16px; padding:12px 24px; border:none; border-radius:8px; cursor:pointer; background:#0f0; color:#000; font-weight:bold;">Create Bot</button>
        </div>
    </div>

    <div id="bot-selection-container" style="display:flex; flex-wrap:wrap; gap:20px; justify-content:center; padding:40px; background-color:#000; min-height:100vh;">
    </div>

    <div class="header">
        <div>
            <h1>ðŸ¤– STATE MACHINE EDITOR</h1>
            <!-- <input type="text" class="alias-input" id="botAlias" placeholder="Bot Name"> -->
            <h2 id="botName"></h2>
        </div>
        <div class="controls">
            <button class="btn" onclick="addState()">âž• Add State</button>
        </div>
    </div>

    <select id="botSelect" style="display: none;">
        <!-- Bot options will be populated dynamically -->
    </select>

    <div class="view-tabs">
        <button class="tab active" onclick="switchView('table', event)">TABLE GRID</button>
        <button class="tab" onclick="switchView('flow', event)">FLOW NODES</button>
    </div>

    <div id="tableView" class="table-view">
        <table>
            <thead>
                <tr>
                    <th>INDEX</th>
                    <th>ACTION</th>
                    <th>VALUE</th>
                    <th>SELECTORS</th>
                    <th>CONDITIONS â†’ TRANSITIONS</th>
                    <th>ACTIONS</th>
                </tr>
            </thead>
            <tbody id="statesTable">
                <!-- Dynamic content -->
            </tbody>
        </table>
    </div>

    <div id="flowView" class="flow-view" style="display: none;">
        <!-- Dynamic flow nodes -->
    </div>

    <div class="status" id="status">Ready â€¢ Select a bot to start editing</div>

    <script type="module" src="js/app.js"></script>
</body>
</html>