<!DOCTYPE html>
<html lang="en" data-theme="night">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bot Builder</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/daisyui@4.7.2/dist/full.css" rel="stylesheet" type="text/css" />
</head>

<body class="min-h-screen bg-base-200 text-base-content">
    <div class="container mx-auto p-6">
        <h1 class="text-3xl font-bold mb-6 text-center text-primary">Bot Builder</h1>

        <div role="tablist" class="tabs tabs-lift mb-6">
            <input type="radio" name="my_tabs" role="tab" class="tab" aria-label="Bots" checked />
            <div role="tabpanel" class="tab-content bg-base-100 border border-base-300 rounded-box p-6">
                <div id="bots-tab" class="space-y-6">

                    <!-- Available Bots List -->
                    <div class="card bg-neutral shadow-lg p-4">
                        <div class="flex justify-between items-center mb-4">
                            <h2 class="text-lg font-semibold text-secondary">Available Bots</h2>
                        </div>
                        <div id="editor-bots-list" class="space-y-2 text-neutral-content">
                            <p>Loading...</p>
                        </div>
                    </div>

                    <!-- Validation Errors -->
                    <div id="validation-errors" class="hidden text-error"></div>

                    <!-- State Builder -->
                    <div id="state-builder-card" class="card bg-neutral shadow-lg p-4 hidden">
                        <h2 class="text-lg font-semibold mb-4 text-secondary">State Builder</h2>
                        <div class="space-y-4">
                            <div>
                                <label class="label text-primary" for="action">Action</label>
                                <select id="action" class="select select-bordered w-full action-select"></select>
                            </div>

                            <div>
                                <label class="label text-primary" for="selectors-container">Selectors</label>
                                <div id="selectors-container" class="space-y-2">
                                    <input type="text" class="selector-input input input-bordered w-full"
                                        placeholder="Enter CSS selector" />
                                </div>
                            </div>

                            <div id="value-group">
                                <label class="label text-primary" for="value">Value</label>
                                <input type="text" id="value" placeholder="Enter value"
                                    class="input input-bordered w-full" />
                            </div>

                            <div id="transitions-group">
                                <h3 class="text-md font-semibold mb-2 text-secondary">Transitions</h3>
                                <div id="transitions-container" class="space-y-2"></div>
                                <button type="button" id="add-transition-btn"
                                    class="btn btn-sm btn-outline btn-info mt-2">Add Transition</button>
                            </div>

                            <button id="add-state-btn" class="btn btn-primary w-full mt-2">Add State</button>
                        </div>
                    </div>

                    <!-- States List -->
                    <div class="card bg-neutral shadow-lg p-4">
                        <div class="flex justify-between items-center mb-4">
                            <h2 class="text-lg font-semibold text-secondary">States</h2>
                            <button id="new-state-btn" class="btn btn-sm hidden">New State</button>
                        </div>
                        <div id="states-container" class="space-y-3"></div>
                    </div>

                    <!-- JSON Preview -->
                    <div class="card bg-neutral shadow-lg p-4">
                        <h2 class="text-lg font-semibold mb-2 text-secondary">JSON Preview</h2>
                        <pre id="json-preview" class="bg-base-300 p-3 rounded text-sm overflow-x-auto"></pre>
                    </div>
                </div>
            </div>

            <input type="radio" name="my_tabs" role="tab" class="tab" aria-label="Builder" />
            <div role="tabpanel" class="tab-content bg-base-100 border border-base-300 rounded-box p-6">
                <div id="builder-tab">
                    <div class="card bg-neutral shadow-lg p-6 mb-6">
                        <h2 class="text-xl font-semibold mb-4 text-secondary">Create a New Bot</h2>
                        <div class="space-y-4">
                            <input type="text" id="bot-name" placeholder="Bot Name"
                                class="input input-bordered w-full" />
                            <input type="text" id="start-url" placeholder="Start URL"
                                class="input input-bordered w-full" value="https://example.com" />
                            <button id="create-bot-btn" class="btn btn-primary w-full">Create Bot</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script type="module" src="app.js"></script>
</body>

</html>
